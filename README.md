# Introduction
The Python scripts on this page demonstrate the ability to connect to and work with the Cisco Packet Tracer software over the PTMP protocol as an "ExApp".

These are only very basic scripts and have not been thoroughly checked for issues, errors, or omissions. They were principally developed using the "Cisco Packet Tracer
Packet Tracer Messaging Protocol (PTMP) Specification Document" and the "Packet Tracer 5.0 Inter Process Communication (IPC) Specifications Document" which are available online elsewhere as PDF files. The Cisco Packet Tracer built-in help pages for IPC are also of some assistance (the PTMP specification document, but not the IPC specification document is linked to from the built-in help pages as well). You do need the IPC specification document to understand ExApp authentication as well as the type values for IPC call arguments. Lastly, you will need the Packet Tracer Extensions API documentation to know what IPC API calls are available for you to make. This is included in the IPC section of the Packet Tracer help files as well.

However, it is important to note that even with all of these documents in hand you will find there are errors and omissions in them which will prevent you from making actual IPC calls over the PTMP protocol. Specifically the documents lack details on how to actually format the IPC call strings using the function names in the Packet Tracer Extensions API documentation and all options for the XML manifest which must be imported into Packet Tracer to register the ExApp and how to encrypt that manifest which is required before importing. Hopefully this repository will demystify at least some of those things (and maybe more over time).

# Usage

1. Start by reviewing the ptmp-test.xml file. This file sets security permissions for the ExApp within Packet Tracer as well as sets a password (key) the ExApp will need to use to authenticate itself to Packet Tracer. You may want to change the key, if you do be sure to change the corresponding key value in the scripts before you run them. As far as I can tell the EXECUTABLE_PATH option is not important unless you want Packet Tracer to be able to automatically load the ExApp (using a LOADING method of ON_STARTUP)
2. Next, you will need to encrypt the XML file using the meta.exe program which can be located in your Packet Tracer installation bin directory. It includes built-in help, you do not need an integrity file or certificate bundle, they are optional. You should output the encrypted file as a .pta file
3. Open Packet Tracer and under the Extensions -> IPC -> Configure Apps menu add the encrypted PTA file you just created. You should be able to verify the App decritpion, settings, and security options on this window as well.
4. You should now be able to run the python3 example code ptmp-negot-textenc.py which uses text encoding over PTMP and ptmp-negot-binenc.py which uses binary encoding. I suggest starting with text encoding as it is marginally easier to understand what is going on than with the binary encoding. As the PTMP specification document states "For backwards compatibility with some development platforms that do not support binary, it is necessary to support text encoding. However, binary encoding allows for efficient conversion and shorter messages, thus it is also necessary to support binary encoding." So you may want to eventually move on to binary encoding.
5. In addition to performing negotiation and authentication these sample Python files execute two basic IPC calls, one of which takes no parameters and returns the Packet Tracer version number, the other of which sends an IPC Log messgage to Packet Tracer which can be viewed in Packet Tracer in the Extensions -> IPC -> Log window.